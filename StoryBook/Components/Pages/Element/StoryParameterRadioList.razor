@rendermode InteractiveServer

<RadioList IsButton="true" TValue="string" Items="@itemValues" OnSelectedChanged="@OnSelectedChanged" />

@code {
    [Parameter]
    public int SectionId { get; set; } = 0;

    private List<SelectedItem>? itemValues;
    private List<string>? parameters;

    protected override void OnInitialized()
    {
        base.OnInitialized();

        itemValues = new List<SelectedItem>();
        parameters = StoryParameterManager.GetAvailableParameters(SectionId);

        if (parameters != null)
        {
            for (int i = 0; i < parameters.Count; i++)
            {
                SelectedItem selectedItem = new(i.ToString(), parameters[i]);
                itemValues.Add(selectedItem);
            }

            StoryParameterManager.ToggleSelectedParameter(SectionId, parameters[index: 0], isMultiSelection: false, enable: true);
        }
    }

    private Task OnSelectedChanged(IEnumerable<SelectedItem> values, string val)
    {
        if (parameters != null)
        {
            int paramIndex = -1;

            if (int.TryParse(val, out paramIndex))
            {
                StoryParameterManager.ToggleSelectedParameter(SectionId, parameters[paramIndex], isMultiSelection: false, enable: true);
            }
        }

        return Task.CompletedTask;
    }
}